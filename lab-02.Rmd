---
title: "Lab 02 - Plastic waste"
author: "Zoé Robert"
date: "15/09/2025"
output: github_document
---

## Chargement des packages et des données

```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
plastic_waste <- read_csv("data/plastic-waste.csv")
```

Commençons par filtrer les données pour retirer le point représenté par Trinité et Tobago (TTO) qui est un outlier.

```{r filter-data, message=FALSE}
plastic_waste <- plastic_waste %>%
  filter(plastic_waste_per_cap < 3.5)
```


## Exercices

### Exercise 1


```{r plastic-waste-continent}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap))+
geom_histogram(binwidth = 0.2)+
  facet_wrap(~continent)
```

### Exercise 2

```{r plastic-waste-density}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap, color = continent, fill = continent))+
  geom_density(alpha = 0.5)
```

color et fill se trouve dans aes, car ils sont directement inpactés par les variables du graphique. alpha se trouve dans geom, car il affecte l'allure générale du graphique et il n'est pas relier à une variable en particulier. 

### Exercise 3

Boxplot:

```{r plastic-waste-boxplot}
ggplot(plastic_waste, aes(x = continent, y = plastic_waste_per_cap))+
  geom_boxplot()
```

Violin plot:

```{r plastic-waste-violin}
ggplot(plastic_waste, aes(x = continent, y = plastic_waste_per_cap))+
  geom_violin()
```

Les box-plots montrent seulement où se trouvent la majorité, alors que les violins montrent une meilleure répartition de la population.

### Exercise 4


```{r plastic-waste-mismanaged}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap, y = mismanaged_plastic_waste_per_cap, color = continent))+
  geom_point()
ggplot(plastic_waste, aes(x = plastic_waste_per_cap, y = mismanaged_plastic_waste_per_cap, color = continent))+
  geom_point()+
  facet_wrap(~continent)
```

Réponse à la question...

### Exercise 5


```{r plastic-waste-population-total}
ggplot(plastic_waste, aes(x = total_pop, y = plastic_waste_per_cap))+
  geom_point()
```

```{r plastic-waste-population-coastal}
ggplot(plastic_waste, aes(x = coastal_pop, y = plastic_waste_per_cap))+
  geom_point()
```

Les 2 graphiques sont très semblables, mais les valeurs selon la population totale est plus étalées.

## Conclusion

Recréez la visualisation:

```{r recreate-viz}
plastic_waste_coastal <- plastic_waste %>% 
  mutate(coastal_pop_prop = coastal_pop / total_pop) %>%
  filter(plastic_waste_per_cap < 3)
ggplot(plastic_waste_coastal, aes(x = coastal_pop_prop, y = plastic_waste_per_cap, color = continent))+
  geom_point()+
  geom_smooth(method = "loess", se = TRUE, color = "black", fill = "grey",)+
  labs(title = "Quantité de déchets plastiques vs Proportion de la population cotière", subtitle = "Selon le continent", x = "Proportion de la population cotière (Coastal / total population)", y = "Nombre de déchets plastiques par habitant")

```
